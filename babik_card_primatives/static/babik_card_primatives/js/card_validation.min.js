function cardNumberKnownIssuerTest(r){return null!==getCardIssuer(r)}function cardNumberIssuerWhitelistTest(r,e){var n=getCardIssuer(r);if(null!==n)for(var t=e.length,u=0;t>u;u++)if(e[u]==n)return!0;return False}function buildCardNumberIssuerWhitelistTest(r){return function(e){return cardNumberIssuerWhitelistTest(e,r)}}function buildCardNumberValidator(r){var e=[cardNumberLengthTest,cardNumberLuhnTest],n=/^\s*$/,t=!0;if("undefined"!=typeof r&&("undefined"==typeof r.required||r.required||(t=!1),"undefined"!=typeof r.issuerWhitelist)){var u=buildCardNumberIssuerWhitelistTest(r.issuer_whitelist);e.push(u)}var i=e.length;return function(r){var u=String(r);if(null!==u.match(n))return t?null:"";u=cleanCardNumber(r);for(var a=0;i>a;a++)if(!e[a](u))return null;return u}}var getCardIssuer=function(){var r=[],e=r.length;return function(n){for(var t,u,i=0;e>i;i++)if(u=r[i],t=u[0].match(n),null!==t)return[u[1],u[2]];return null}}(),cleanCardNumber=function(){var r=/[\s+]+/g,e=/([0-9])-([0-9])/g,n=/^[0-9]+$/;return function(t){var u=String(t);return u=u.replace(r,""),u=u.replace(e,"$1$2"),result=u.match(n),result?u:null}}(),cardNumberLuhnTest=function(){var r=[0,2,4,6,8,1,3,5,7,9];return function(e){for(var n,t=0,u=!0,i=String(e),a=i.length-1;a>=0;--a)n=parseInt(i.charAt(a),10),t+=u?n:r[n],u=!u;return t%10==0}}(),cardNumberLengthTest=function(){var r=10,e=25;return function(n){var t=String(n),u=t.length;return u>r&&e>u}}();